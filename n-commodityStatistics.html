<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>商品统计--仙谷掌柜</title>
		<link href="css/mui.min.css" rel="stylesheet" />
		<link href="css/base.css" rel="stylesheet" />
		<link href="less/commodityStatistics.css" rel="stylesheet" />
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<a href="" class="back"></a>
			<h1 class="mui-title">商品统计</h1>
			<a class="sort sortNum">按数量排序</a>
		</header>
		<div class="mui-content">
			<div class="sales_list">
				<div class="list">
					<ul class="goods_list goods_list_act">
						<li>
							<span class="num"><i class="No1"><b>TOP</b><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i class="No2"><b>TOP</b><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i class="No3"><b>TOP</b><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
						<li>
							<span class="num"><i><strong>01</strong></i></span>
							<div class="goods_statistics">
								<span class="goods">三得利冰度（规格）</span>
								<span class="sales_num">销售数量：199箱</span>
							</div>
							<span class="total">总计 <b>￥<i>24540</i></b></span>
						</li>
					</ul>
				</div>

			</div>
			<div class="list_container"></div>
			<a href="javascript:;" class="load_more">查看更多</a>
		</div>

		<script src="js/jquery-1.7.2.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			//前10名加0
			var $num = $('.num strong');
			$('.goods_list li').each(function() {
				var idx = $(this).index();
				var numb = idx + 1;
				if(numb < 10) {
					var gt10 = '0' + numb;
					$num.eq(idx).html(gt10);
				} else {
					$num.eq(idx).html(numb);
				}
			})
			//排序
			$('.sort').click(function() {
				if($(this).hasClass('sortNum')) {
					$(this).removeClass('sortNum').addClass('sortSales');
					$(this).html('按销售额排序');
				} else {
					$(this).removeClass('sortSales').addClass('sortNum');
					$(this).html('按数量排序');

				}
			})

			//列表显隐
			var $list = $('.list');
			var $listTit = $('.list_tit');
			var $goodsList = $('.goods_list');
			$list.each(function() {
				var idx = $(this).index();

				$listTit.eq(idx).click(function() {
					if($goodsList.eq(idx).hasClass('goods_list_act')) {
						$goodsList.eq(idx).removeClass('goods_list_act');
						$listTit.eq(idx).removeClass('list_tit_act');
					} else {
						$goodsList.removeClass('goods_list_act');
						$goodsList.eq(idx).addClass('goods_list_act');
						$listTit.removeClass('list_tit_act')
						$listTit.eq(idx).addClass('list_tit_act');

					}

				})

			})
			//加载更多
			function LOADMORE(loadbtn, lis, listcontainer, defaultPg) {
				//loadMore
				var defaultPage = defaultPg;
				var loading = 0;
				var contentLi = [];
				var $loadMore = $(loadbtn);
				var $ulList = $(listcontainer)

				var $lis = $(lis);

				$('.sales_list').hide();

				if($lis.length > 10) {
					$loadMore.show()
				} else {
					$loadMore.hide()
				}

				$ulList.html("");
				for(var a = 0; a < defaultPage; a++) {
					$lis.eq(a).appendTo($ulList);
				}
				for(var b = defaultPage; b < $lis.length; b++) {
					contentLi.push($lis.eq(b))
				}

				$loadMore.click(function() {

					var k = 0;
					var t = 0;
					var moreList = $(listcontainer + " .list").length;
					for(var i = moreList - defaultPage; i < moreList - loading; i++) {

						if(i == contentLi.length) {
							$loadMore.html("没有更多了~");
							return;
						}

						contentLi[i].appendTo($ulList);
						t = moreList + k;
						k++;

					}
				})
			}
			LOADMORE('.load_more', '.sales_list .list', '.list_container', 10)
		</script>
	</body>

</html>